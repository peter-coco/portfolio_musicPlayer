(this.webpackJsonpmusicplayer=this.webpackJsonpmusicplayer||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,,,,,,,,function(e,t,c){"use strict";c.r(t);var s=c(0),i=c.n(s),n=c(5),a=c.n(n),r=(c(15),c(2)),u=(c(16),c(17),c(1));function l(e){var t=e.playBarActivate,c=e.playBarMusicInfor,i=e.checkClickThumbsUp,n=e.setplayBarMusicInfor,a=Object(s.useState)(!1),l=Object(r.a)(a,2),o=l[0],b=l[1],j=Object(s.useState)(0),d=Object(r.a)(j,2),f=d[0],h=d[1],O=Object(s.useState)(!1),m=Object(r.a)(O,2),p=m[0],v=m[1],k=Object(s.useState)(0),y=Object(r.a)(k,2),S=y[0],x=y[1];Object(s.useEffect)((function(){c&&(x(c.time),h(0))}),[c]),Object(s.useEffect)((function(){if(t&&c&&!p){var e=setInterval((function(){h((function(e){return e<c.time?e+1:e}))}),1e3);return function(){return clearInterval(e)}}}),[t,p,c]),Object(s.useEffect)((function(){fetch("https://musicdata.link/").then((function(e){return e.json()})).then((function(e){for(var t=0;t<e.res.length;t++)e.res[t].title===c.title&&n(e.res[t])}))}),[i]);var C=Object(s.useCallback)((function(){v((function(e){return!e})),b((function(e){return!e}))}),[v,b]);return Object(u.jsxs)("footer",{style:{display:t?"flex":"none"},id:"player-footer",children:[Object(u.jsx)("div",{id:"song-progress-bar",children:Object(u.jsx)("div",{style:{width:"".concat(f/S*100,"%")},id:"progress"})}),Object(u.jsxs)("div",{id:"playingNow-wrap",children:[Object(u.jsxs)("div",{className:"playingNow",children:[Object(u.jsx)("img",{src:c.albumCover,className:"music-cover"}),Object(u.jsx)("div",{className:"music-title",children:c.title}),Object(u.jsx)("div",{className:"music-artist",children:c.artist}),Object(u.jsx)("div",{className:"music-album",children:c.album}),Object(u.jsxs)("div",{className:"music-playTime",children:[parseInt(String(c.time/60)),":",c.time%60]}),Object(u.jsx)("div",{className:"music-likes",children:c.likes}),Object(u.jsx)("div",{className:"music-views",children:c.views})]}),Object(u.jsxs)("div",{className:"player-operation",children:[Object(u.jsx)("i",{style:{display:o?"block":"none"},className:"fas fa-play",onClick:C}),Object(u.jsx)("i",{style:{display:o?"none":"block"},className:"fas fa-pause",onClick:C}),Object(u.jsx)("i",{className:"fas fa-volume-down"})]})]})]})}c(19);function o(e){var t=e.setSearchInput,c=e.setSortType,i=e.setGenreType,n=e.rankSideBarActivate,a=Object(s.useCallback)((function(e,s,n){t(e),i(s),c(n)}),[t,i,c]);return Object(u.jsxs)("div",{style:{display:n?"flex":"none"},className:"rank-sidebar",children:[Object(u.jsx)("div",{className:"sidebar-menu",onClick:function(){return a("","",O.VIEWS)},children:"\uc804\uccb4"}),Object(u.jsx)("div",{className:"sidebar-pop",onClick:function(){return a("","POP",O.VIEWS)},children:"POP"}),Object(u.jsx)("div",{className:"sidebar-kpop",onClick:function(){return a("","KPOP",O.VIEWS)},children:"K-POP"}),Object(u.jsx)("div",{className:"sidebar-rock",onClick:function(){return a("","ROCK",O.VIEWS)},children:"ROCK"}),Object(u.jsx)("div",{className:"sidebar-likes",onClick:function(){return a("","",O.LIKES)},children:"\uc88b\uc544\uc694\uc21c"})]})}c(20);function b(e){var t=e.setSearchInput,c=Object(s.useState)(""),i=Object(r.a)(c,2),n=i[0],a=i[1],l=Object(s.useCallback)((function(){return t(n)}),[t,n]);return Object(u.jsxs)("div",{id:"serach-bar",children:[Object(u.jsx)("div",{id:"search-input-wrapper",children:Object(u.jsx)("input",{type:"text",id:"search-input",onChange:function(e){return a(e.target.value)}})}),Object(u.jsx)("div",{id:"search-icon",children:Object(u.jsx)("i",{className:"fas fa-search",onClick:l})})]})}c(21);function j(e){var t=e.setSearchInput,c=e.setSortType,i=e.setLibraryType,n=e.setGenreType,a=e.setRankSideBarActivate,l=Object(s.useState)(!0),o=Object(r.a)(l,2),j=o[0],d=o[1],f=Object(s.useState)(!1),h=Object(r.a)(f,2),m=h[0],p=h[1],v=Object(s.useState)(!1),k=Object(r.a)(v,2),y=k[0],S=k[1],x=Object(s.useCallback)((function(){t(""),n(""),i(""),c(O.LIKES),m&&(p((function(e){return!e})),a(!m)),j||d((function(e){return!e})),y&&S((function(e){return!e}))}),[t,n,i,c,a,m,p,d,j,S,y]),C=Object(s.useCallback)((function(){n(""),i(""),t(""),c(O.VIEWS),m||(p((function(e){return!e})),a(!m)),j&&d((function(e){return!e})),y&&S((function(e){return!e}))}),[t,n,i,c,a,m,p,d,j,S,y]),I=Object(s.useCallback)((function(){i("selected"),n(""),m&&(p((function(e){return!e})),a(!m)),j&&d((function(e){return!e})),y||S((function(e){return!e}))}),[n,i,a,m,p,d,j,S,y]);return console.log(m),Object(u.jsxs)("nav",{id:"player-navBar",children:[Object(u.jsx)("div",{id:"logo",children:"MUSIGRAM"}),Object(u.jsxs)("div",{id:"menu-bar",children:[Object(u.jsx)("i",{style:{color:j?"white":"black"},onClick:x,className:"fas fa-home"}),Object(u.jsx)("i",{style:m?{color:"white"}:{color:"black"},className:"fas fa-chart-bar",onClick:C}),Object(u.jsx)("i",{style:y?{color:"white"}:{color:"black"},className:"far fa-list-alt",onClick:I})]}),Object(u.jsx)(b,{setSearchInput:t})]})}var d=c(8);c(22);function f(e){var t=e.music,c=e.setplayBarActivate,i=e.setplayBarMusicInfor,n=e.setMusicList,a=e.operationActivate,l=Object(s.useState)(!1),o=Object(r.a)(l,2),b=o[0],j=o[1],d=Object(s.useState)(!1),f=Object(r.a)(d,2),h=f[0],O=f[1];Object(s.useEffect)((function(){fetch("https://musicdata.link/").then((function(e){return e.json()})).then((function(e){return n(e.res)}))}),[h]);var m=Object(s.useCallback)((function(){b||(c(!b),j(!b)),i(t)}),[c,j,i,b,t]),p=Object(s.useCallback)((function(){fetch("https://musicdata.link/addLib/".concat(t.title),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lib:"selected"})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),O(!h)}),[O,h,t]),v=Object(s.useCallback)((function(){fetch("https://musicdata.link/delLib/".concat(t.title),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),O(!h)}),[O,h,t]);return Object(u.jsxs)("div",{style:{visibility:a?"visible":"hidden",clipPath:a?"polygon(0 0, 100% 0, 100% 100%, 0 100%)":"polygon(0 0, 100% 0, 0 0, 0 0)",height:"100px",overflow:"hidden",transition:"all 300ms"},className:"music-sub-operation",children:[Object(u.jsx)("div",{className:"sub-operation-menus",onClick:m,children:"\uc7ac\uc0dd"}),Object(u.jsx)("div",{className:"sub-operation-menus",onClick:p,children:"\uc990\uaca8\ucc3e\uae30\uc5d0 \ub2f4\uae30"}),Object(u.jsx)("div",{className:"sub-operation-menus",onClick:v,children:"\uc990\uaca8\ucc3e\uae30\uc5d0\uc11c \uc0ad\uc81c"})]})}c(23);function h(e){var t=e.music,c=e.setplayBarActivate,i=e.setplayBarMusicInfor,n=e.setMusicList,a=e.checkClickThumbsUp,l=e.setCheckClickThumbsUp,o=Object(s.useState)(!1),b=Object(r.a)(o,2),j=b[0],h=b[1];Object(s.useEffect)((function(){fetch("https://musicdata.link/").then((function(e){return e.json()})).then((function(e){return n(e.res)}))}),[a]);var O=Object(s.useCallback)((function(){t.isLike?(fetch("https://musicdata.link/subLikes/".concat(t.title),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return console.log(e.res)})),l(!a)):(fetch("https://musicdata.link/addLikes/".concat(t.title),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e.res)})),l((function(e){return!e})))}),[t,l,a]),m=Object(s.useCallback)((function(e){"inSide"===e?h((function(e){return!e})):j&&h(!1)}),[h,j]);return Object(u.jsx)("div",{className:"music",children:Object(u.jsxs)("div",{className:"music-info",children:[Object(u.jsx)("img",{src:t.albumCover,className:"music-cover"}),Object(u.jsx)("div",{className:"music-title",children:t.title}),Object(u.jsx)("div",{className:"music-artist",children:t.artist}),Object(u.jsx)("div",{className:"music-album",children:t.album}),Object(u.jsxs)("div",{className:"music-playTime",children:[Math.floor(t.time/60),":",t.time%60]}),Object(u.jsx)("div",{className:"music-likes",children:t.likes}),Object(u.jsx)("div",{className:"music-views",children:t.views}),Object(u.jsx)("i",{style:{color:t.isLike?"white":"black"},className:"fas fa-thumbs-up",onClick:O}),Object(u.jsx)("i",{className:"fas fa-ellipsis-v list-ellipsis",onClick:function(){m("inSide")},children:Object(u.jsx)(d.a,{onOutsideClick:function(){m("outSide")},children:Object(u.jsx)(f,{music:t,setplayBarActivate:c,setplayBarMusicInfor:i,setMusicList:n,operationActivate:j})})})]})})}var O;c(24);function m(e){var t=e.sortType,c=e.setGenreType,i=e.searchInput,n=e.libraryType,a=e.musicList,r=e.setplayBarActivate,l=e.setplayBarMusicInfor,o=e.setMusicList,b=e.checkClickThumbsUp,j=e.setCheckClickThumbsUp;return Object(s.useEffect)((function(){fetch("https://musicdata.link/").then((function(e){return e.json()})).then((function(e){return o(e.res)}))}),[]),Object(u.jsx)("main",{id:"player-main",children:a.filter((function(e){return e.title.includes(i)})).filter((function(e){return e.genre.includes(c)})).filter((function(e){return e.library.includes(n)})).sort((function(e,c){switch(t){case O.ALBUMS:return e.album.localeCompare(c.album);case O.ARTISTS:return e.artist.localeCompare(c.artist);case O.TITLES:return e.title.localeCompare(c.title);case O.LIKES:return c.likes-e.likes;case O.VIEWS:return c.views-e.views;default:return e.album.localeCompare(c.album)}})).map((function(e){return Object(u.jsx)(h,{music:e,setplayBarActivate:r,setplayBarMusicInfor:l,setMusicList:o,checkClickThumbsUp:b,setCheckClickThumbsUp:j},e.title+e.album+e.artist)}))})}function p(e){var t=e.playBarMusicInfor,c=e.setplayBarMusicInfor,i=Object(s.useState)(""),n=Object(r.a)(i,2),a=n[0],b=n[1],d=Object(s.useState)(O.LIKES),f=Object(r.a)(d,2),h=f[0],p=f[1],v=Object(s.useState)(""),k=Object(r.a)(v,2),y=k[0],S=k[1],x=Object(s.useState)(""),C=Object(r.a)(x,2),I=C[0],T=C[1],N=Object(s.useState)([]),g=Object(r.a)(N,2),L=g[0],B=g[1],E=Object(s.useState)(!1),M=Object(r.a)(E,2),w=M[0],A=M[1],U=Object(s.useState)(!1),P=Object(r.a)(U,2),K=P[0],R=P[1],V=Object(s.useState)(!1),W=Object(r.a)(V,2),G=W[0],F=W[1];return Object(u.jsxs)("div",{id:"musicPlayer",children:[Object(u.jsx)(j,{setSearchInput:b,setSortType:p,setLibraryType:T,setGenreType:S,setRankSideBarActivate:A}),Object(u.jsxs)("div",{id:"main-wr",children:[Object(u.jsx)(o,{setSearchInput:b,setSortType:p,setGenreType:S,rankSideBarActivate:w}),Object(u.jsx)(m,{sortType:h,setGenreType:y,searchInput:a,libraryType:I,musicList:L,setplayBarActivate:R,setplayBarMusicInfor:c,setMusicList:B,checkClickThumbsUp:G,setCheckClickThumbsUp:F})]}),Object(u.jsx)(l,{playBarActivate:K,playBarMusicInfor:t,setplayBarMusicInfor:c,checkClickThumbsUp:G})]})}!function(e){e[e.TITLES=0]="TITLES",e[e.ARTISTS=1]="ARTISTS",e[e.ALBUMS=2]="ALBUMS",e[e.LIKES=3]="LIKES",e[e.VIEWS=4]="VIEWS"}(O||(O={}));var v=function(){var e=Object(s.useState)({title:"",artist:"",album:"",albumCover:"https://musicdata.link/images/background.jpg",time:0,likes:0,views:0,library:"",genre:"",isLike:!1}),t=Object(r.a)(e,2),c=t[0],i=t[1];return Object(u.jsxs)("div",{id:"background-wrap",children:[Object(u.jsx)("div",{style:{backgroundImage:"url(".concat(c.albumCover,")")},id:"background"}),Object(u.jsx)(p,{playBarMusicInfor:c,setplayBarMusicInfor:i})]})},k=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,35)).then((function(t){var c=t.getCLS,s=t.getFID,i=t.getFCP,n=t.getLCP,a=t.getTTFB;c(e),s(e),i(e),n(e),a(e)}))},y=c(3),S=c(10),x=c(4),C="COUNT/INCRESE",I={count:0},T=Object(y.combineReducers)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(x.a)(Object(x.a)({},e),{},{count:t.count});default:return e}}}),N=(c(31),c(33),Object(y.compose)(Object(y.applyMiddleware)())),g=Object(y.createStore)(T,N);a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(S.a,{store:g,children:Object(u.jsx)(v,{})})}),document.getElementById("root")),k()}],[[34,1,2]]]);
//# sourceMappingURL=main.85b31d79.chunk.js.map